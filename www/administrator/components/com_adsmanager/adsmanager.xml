<?xml version="1.0" encoding="iso-8859-1"?>
<mosinstall type="component">
   <name>AdsManager</name>
   <creationDate>02.25.2008</creationDate>
   <author>Thomas PAPIN</author>
   <copyright>This component is released under the GNU/GPL License.</copyright>
   <authorEmail>webmaster@joomprod.com</authorEmail>
   <authorUrl>www.joomprod.com</authorUrl>
   <version>2.1.9</version>
   <description>AdsManager Classifieds Component for Joomla!</description>
   
   <files>
      <filename>adsmanager.html.php</filename>
      <filename>adsmanager.class.php</filename>
      <filename>adsmanager.php</filename>
      <filename>lang/lang_english.php</filename>
	  <filename>lang/lang_french.php</filename>
      <filename>css/adsmanager.css</filename>
      <filename>font/verdana.ttf</filename>
      <filename>css/index.html</filename>
      <filename>images/index.html</filename>
      <filename>font/index.html</filename>
	  <filename>cron.php</filename>
      <filename>index.html</filename>
   </files>
   
   <images>
      <filename>images/default.gif</filename>
      <filename>images/warning.gif</filename>
      <filename>images/nopic.gif</filename>
      <filename>images/nopic_fr.gif</filename>
      <filename>images/arrow.png</filename>
	  <filename>images/rss.png</filename>
      <filename>lightbox/css/lightbox.css</filename>
      <filename>lightbox/images/blank.gif</filename>
      <filename>lightbox/images/closelabel.gif</filename>
      <filename>lightbox/images/loading.gif</filename>
      <filename>lightbox/images/nextlabel.gif</filename>
      <filename>lightbox/images/prevlabel.gif</filename>
      <filename>lightbox/js/effects.js</filename>
      <filename>lightbox/js/lightbox.js</filename>
      <filename>lightbox/js/prototype.js</filename>
      <filename>lightbox/js/scriptaculous.js</filename>
   </images>
   
   <install>
      <queries>      
         <query>
			CREATE TABLE IF NOT EXISTS `#__adsmanager_ads` (
			  `id` int(10) unsigned NOT NULL auto_increment,
			  `category` int(10) unsigned default '0',
			  `userid` int(10) unsigned default NULL,
			  `name` text,
			  `ad_zip` text,
			  `ad_city` text,
			  `ad_phone` text,
			  `email` text,
			  `ad_kindof` text,
			  `ad_headline` text,
			  `ad_text` text,
			  `ad_state` text NOT NULL,
			  `ad_price` text,
			  `date_created` date default NULL,
			  `date_recall` date default NULL,
			  `recall_mail_sent` tinyint(1) default '0',
			  `views` int(10) unsigned default '0',
			  `published` tinyint(1) default '1',
			  PRIMARY KEY  (`id`)
			);
         </query>
    
         <query>
			CREATE TABLE IF NOT EXISTS `#__adsmanager_categories` (
			  `id` int(10) unsigned NOT NULL auto_increment,
			  `parent` int(10) unsigned default '0',
			  `name` varchar(50) default NULL,
			  `description` varchar(250) default NULL,
			  `ordering` int(11) default '0',
			  `published` tinyint(1) default '0',
			  PRIMARY KEY  (`id`)
			);
         </query>
              
         <query>
			 CREATE TABLE IF NOT EXISTS `#__adsmanager_config` (
			  `id` int(10) unsigned NOT NULL auto_increment,
			  `version` text NOT NULL,
			  `ads_per_page` int(10) unsigned NOT NULL default '20',
			  `max_image_size` int(10) unsigned NOT NULL default '102400',
			  `max_width` int(4) NOT NULL default '450',
			  `max_height` int(4) NOT NULL default '300',
			  `max_width_t` int(4) NOT NULL default '150',
			  `max_height_t` int(4) NOT NULL default '100',
			  `root_allowed` tinyint(4) NOT NULL default '1',
			  `nb_images` int(4) NOT NULL default '2',
			  `show_contact` tinyint(4) NOT NULL default '1',
			  `send_email_on_new` tinyint(4) NOT NULL default '1',
			  `send_email_on_update` tinyint(4) NOT NULL default '1',
			  `auto_publish` tinyint(4) NOT NULL default '1',
			  `tag` text NOT NULL,
			  `fronttext` text NOT NULL,
			  `comprofiler` tinyint(4) NOT NULL default '0',
			  `email_display` tinyint(4) NOT NULL default '0',
			  `rules_text` text NOT NULL,
			  `display_expand` tinyint(4) NOT NULL default '1',
			  `display_last` tinyint(4) NOT NULL default '2',
			  `display_fullname` tinyint(4) NOT NULL default '2',
			  `expiration` tinyint(1) NOT NULL default '1',
			  `ad_duration` int(4) NOT NULL default '30',
			  `recall` tinyint(1) NOT NULL default '1',
			  `recall_time` int(4) NOT NULL default '7',
			  `recall_text` text NOT NULL,
			  `image_display` varchar(50) NOT NULL default 'default',
			  `cat_max_width` int(4) NOT NULL default '150',
			  `cat_max_height` int(4) NOT NULL default '150',
			  `cat_max_width_t` int(4) NOT NULL default '30',
			  `cat_max_height_t` int(4) NOT NULL default '30',
			  `submission_type` int(4) NOT NULL default '30',
			  `nb_ads_by_user` int(4) NOT NULL default '-1',
			  `allow_attachement` tinyint(1) NOT NULL default '0',
			  `allow_contact_by_pms` tinyint(1) NOT NULL default '0',
			  `show_rss` tinyint(1) NOT NULL default '0',
			   PRIMARY KEY  (`id`)
			);
		  </query>  
		  
		  <query>
			 CREATE TABLE IF NOT EXISTS `#__adsmanager_profile` (
			  `userid` int(11) NOT NULL default '0',
			  `name` text NOT NULL,
			  `ad_city` text NOT NULL,
			  `email` text NOT NULL,
			  `ad_zip` text NOT NULL,
			  `ad_phone` text NOT NULL,
			  PRIMARY KEY  (`userid`)
			);
		  </query>
		  
		  <query>
			CREATE TABLE IF NOT EXISTS `#__adsmanager_positions` (
			  `id` tinyint(4) NOT NULL auto_increment,
			  `name` text NOT NULL,
			  `title` text NOT NULL,
			  PRIMARY KEY  (`id`)
			);
		  </query>
		  
		  <query>
			CREATE TABLE  IF NOT EXISTS `#__adsmanager_fields` (
			  `fieldid` int(11) NOT NULL auto_increment,
			  `name` varchar(50) NOT NULL default '',
			  `title` varchar(255) NOT NULL default '',
			  `display_title` tinyint(1) NOT NULL default '0',
			  `description` mediumtext NOT NULL,
			  `type` varchar(50) NOT NULL default '',
			  `maxlength` int(11) default NULL,
			  `size` int(11) default NULL,
			  `required` tinyint(4) default '0',
			  `ordering` int(11) default NULL,
			  `cols` int(11) default NULL,
			  `rows` int(11) default NULL,
			  `columnid` int(11) NOT NULL default '-1',
			  `columnorder` int(11) NOT NULL default '0',
			  `pos` tinyint(4) NOT NULL default '1',
			  `posorder` tinyint(4) NOT NULL default '1',
			  `profile` tinyint(1) NOT NULL default '0',
			  `cb_field` int(11) NOT NULL default '-1',
			  `editable` tinyint(1) NOT NULL default '1',
			  `searchable` tinyint(1) NOT NULL default '1',
			  `sort` tinyint(1) NOT NULL default '0',
			  `sort_direction` varchar(4) NOT NULL default 'DESC',
			  `catsid` varchar( 255 ) NOT NULL DEFAULT ',-1,', 
			  `published` tinyint(1) NOT NULL default '1',
			  PRIMARY KEY  (`fieldid`)
			);
		  </query>
		  
		  <query>
			CREATE TABLE  IF NOT EXISTS `#__adsmanager_field_values` (
			  `fieldvalueid` int(11) NOT NULL auto_increment,
			  `fieldid` int(11) NOT NULL default '0',
			  `fieldtitle` varchar(50) NOT NULL default '',
			  `fieldvalue` int(11) NOT NULL default '0',
			  `ordering` int(11) NOT NULL default '0',
			  `sys` tinyint(4) NOT NULL default '0',
			  PRIMARY KEY  (`fieldvalueid`)
			);
		  </query>
		  
		  <query>
			CREATE TABLE IF NOT EXISTS `#__adsmanager_columns` (
			  `id` int(11) NOT NULL auto_increment,
			  `name` text NOT NULL,
			  `ordering` int(11) NOT NULL default '0',
			  `catsid` varchar( 255 ) NOT NULL DEFAULT ',-1,', 
			  `published` tinyint(4) NOT NULL default '0',
			  PRIMARY KEY  (`id`)
			) ;
		  </query>
      </queries>
   </install>

  <uninstall>
  </uninstall>
   
   <installfile>install.adsmanager.php</installfile>
   
   <uninstallfile>uninstall.adsmanager.php</uninstallfile>
 
   <administration>
      <menu>AdsManager</menu>
            <submenu>
      			<menu act="configuration" task="edit">Configuration</menu>
      			<menu act="fields">Fields</menu>
      			<menu act="columns">Columns</menu>
      			<menu act="positions">Ad Display</menu>
      			<menu act="categories">Categories</menu>
      			<menu act="ads">Ads</menu>
		    </submenu>
			<files>
				<filename>admin.adsmanager.php</filename>
				<filename>admin.adsmanager.html.php</filename>
				<filename>toolbar.adsmanager.php</filename>
				<filename>toolbar.adsmanager.html.php</filename>
				<filename>index.html</filename>
				<filename>joomfish/adsmanager_ads.xml</filename>
				<filename>joomfish/adsmanager_categories.xml</filename>
				<filename>joomfish/adsmanager_columns.xml</filename>
				<filename>joomfish/adsmanager_config.xml</filename>
				<filename>joomfish/adsmanager_fields.xml</filename>
				<filename>joomfish/adsmanager_field_values.xml</filename>
				<filename>sef/com_adsmanager.php</filename>
			</files>
		  
   </administration>
   
   
</mosinstall>
